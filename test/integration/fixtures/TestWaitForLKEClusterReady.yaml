---
version: 1
interactions:
- request:
    body: '{"node_pools":[{"count":3,"type":"g6-standard-2","disks":null,"tags":null}],"label":"xf886ld17qx5-linodego-testing","region":"us-central","k8s_version":"1.21","tags":["testing"]}'
    form: {}
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      User-Agent:
      - linodego/dev https://github.com/linode/linodego
    url: https://api.linode.com/v4beta/lke/clusters
    method: POST
  response:
    body: '{"id": 57130, "status": "ready", "created": "2018-01-02T03:04:05", "updated":
      "2018-01-02T03:04:05", "label": "xf886ld17qx5-linodego-testing", "region": "us-central",
      "k8s_version": "1.21", "control_plane": {"high_availability": false}, "tags":
      ["testing"]}'
    headers:
      Access-Control-Allow-Credentials:
      - "true"
      Access-Control-Allow-Headers:
      - Authorization, Origin, X-Requested-With, Content-Type, Accept, X-Filter
      Access-Control-Allow-Methods:
      - HEAD, GET, OPTIONS, POST, PUT, DELETE
      Access-Control-Allow-Origin:
      - '*'
      Access-Control-Expose-Headers:
      - X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Status
      Cache-Control:
      - private, max-age=60, s-maxage=60
      Content-Length:
      - "257"
      Content-Security-Policy:
      - default-src 'none'
      Content-Type:
      - application/json
      Server:
      - nginx
      Strict-Transport-Security:
      - max-age=31536000
      Vary:
      - Authorization, X-Filter
      X-Accepted-Oauth-Scopes:
      - lke:read_write
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      - DENY
      X-Oauth-Scopes:
      - '*'
      X-Ratelimit-Limit:
      - "800"
      X-Xss-Protection:
      - 1; mode=block
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      User-Agent:
      - linodego/dev https://github.com/linode/linodego
    url: https://api.linode.com/v4beta/lke/clusters/57130/kubeconfig
    method: GET
  response:
    body: '{"errors": [{"reason": "Cluster kubeconfig is not yet available. Please
      try again later."}]}'
    headers:
      Access-Control-Allow-Headers:
      - Authorization, Origin, X-Requested-With, Content-Type, Accept, X-Filter
      Access-Control-Allow-Methods:
      - HEAD, GET, OPTIONS, POST, PUT, DELETE
      Access-Control-Allow-Origin:
      - '*'
      Content-Length:
      - "92"
      Content-Type:
      - application/json
      Server:
      - nginx
      Vary:
      - Authorization, X-Filter
      X-Accepted-Oauth-Scopes:
      - lke:read_write
      X-Frame-Options:
      - DENY
      X-Oauth-Scopes:
      - '*'
      X-Ratelimit-Limit:
      - "800"
    status: 503 Service Unavailable
    code: 503
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      User-Agent:
      - linodego/dev https://github.com/linode/linodego
    url: https://api.linode.com/v4beta/lke/clusters/57130/kubeconfig
    method: GET
  response:
    body: '{"errors": [{"reason": "Cluster kubeconfig is not yet available. Please
      try again later."}]}'
    headers:
      Access-Control-Allow-Headers:
      - Authorization, Origin, X-Requested-With, Content-Type, Accept, X-Filter
      Access-Control-Allow-Methods:
      - HEAD, GET, OPTIONS, POST, PUT, DELETE
      Access-Control-Allow-Origin:
      - '*'
      Content-Length:
      - "92"
      Content-Type:
      - application/json
      Server:
      - nginx
      Vary:
      - Authorization, X-Filter
      X-Accepted-Oauth-Scopes:
      - lke:read_write
      X-Frame-Options:
      - DENY
      X-Oauth-Scopes:
      - '*'
      X-Ratelimit-Limit:
      - "800"
    status: 503 Service Unavailable
    code: 503
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      User-Agent:
      - linodego/dev https://github.com/linode/linodego
    url: https://api.linode.com/v4beta/lke/clusters/57130/kubeconfig
    method: GET
  response:
    body: '{"errors": [{"reason": "Cluster kubeconfig is not yet available. Please
      try again later."}]}'
    headers:
      Access-Control-Allow-Headers:
      - Authorization, Origin, X-Requested-With, Content-Type, Accept, X-Filter
      Access-Control-Allow-Methods:
      - HEAD, GET, OPTIONS, POST, PUT, DELETE
      Access-Control-Allow-Origin:
      - '*'
      Content-Length:
      - "92"
      Content-Type:
      - application/json
      Server:
      - nginx
      Vary:
      - Authorization, X-Filter
      X-Accepted-Oauth-Scopes:
      - lke:read_write
      X-Frame-Options:
      - DENY
      X-Oauth-Scopes:
      - '*'
      X-Ratelimit-Limit:
      - "800"
    status: 503 Service Unavailable
    code: 503
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      User-Agent:
      - linodego/dev https://github.com/linode/linodego
    url: https://api.linode.com/v4beta/lke/clusters/57130/kubeconfig
    method: GET
  response:
    body: '{"errors": [{"reason": "Cluster kubeconfig is not yet available. Please
      try again later."}]}'
    headers:
      Access-Control-Allow-Headers:
      - Authorization, Origin, X-Requested-With, Content-Type, Accept, X-Filter
      Access-Control-Allow-Methods:
      - HEAD, GET, OPTIONS, POST, PUT, DELETE
      Access-Control-Allow-Origin:
      - '*'
      Content-Length:
      - "92"
      Content-Type:
      - application/json
      Server:
      - nginx
      Vary:
      - Authorization, X-Filter
      X-Accepted-Oauth-Scopes:
      - lke:read_write
      X-Frame-Options:
      - DENY
      X-Oauth-Scopes:
      - '*'
      X-Ratelimit-Limit:
      - "800"
    status: 503 Service Unavailable
    code: 503
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      User-Agent:
      - linodego/dev https://github.com/linode/linodego
    url: https://api.linode.com/v4beta/lke/clusters/57130/kubeconfig
    method: GET
  response:
    body: '{"errors": [{"reason": "Cluster kubeconfig is not yet available. Please
      try again later."}]}'
    headers:
      Access-Control-Allow-Headers:
      - Authorization, Origin, X-Requested-With, Content-Type, Accept, X-Filter
      Access-Control-Allow-Methods:
      - HEAD, GET, OPTIONS, POST, PUT, DELETE
      Access-Control-Allow-Origin:
      - '*'
      Content-Length:
      - "92"
      Content-Type:
      - application/json
      Server:
      - nginx
      Vary:
      - Authorization, X-Filter
      X-Accepted-Oauth-Scopes:
      - lke:read_write
      X-Frame-Options:
      - DENY
      X-Oauth-Scopes:
      - '*'
      X-Ratelimit-Limit:
      - "800"
    status: 503 Service Unavailable
    code: 503
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      User-Agent:
      - linodego/dev https://github.com/linode/linodego
    url: https://api.linode.com/v4beta/lke/clusters/57130/kubeconfig
    method: GET
  response:
    body: '{"errors": [{"reason": "Cluster kubeconfig is not yet available. Please
      try again later."}]}'
    headers:
      Access-Control-Allow-Headers:
      - Authorization, Origin, X-Requested-With, Content-Type, Accept, X-Filter
      Access-Control-Allow-Methods:
      - HEAD, GET, OPTIONS, POST, PUT, DELETE
      Access-Control-Allow-Origin:
      - '*'
      Content-Length:
      - "92"
      Content-Type:
      - application/json
      Server:
      - nginx
      Vary:
      - Authorization, X-Filter
      X-Accepted-Oauth-Scopes:
      - lke:read_write
      X-Frame-Options:
      - DENY
      X-Oauth-Scopes:
      - '*'
      X-Ratelimit-Limit:
      - "800"
    status: 503 Service Unavailable
    code: 503
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      User-Agent:
      - linodego/dev https://github.com/linode/linodego
    url: https://api.linode.com/v4beta/lke/clusters/57130/kubeconfig
    method: GET
  response:
    body: '{"errors": [{"reason": "Cluster kubeconfig is not yet available. Please
      try again later."}]}'
    headers:
      Access-Control-Allow-Headers:
      - Authorization, Origin, X-Requested-With, Content-Type, Accept, X-Filter
      Access-Control-Allow-Methods:
      - HEAD, GET, OPTIONS, POST, PUT, DELETE
      Access-Control-Allow-Origin:
      - '*'
      Content-Length:
      - "92"
      Content-Type:
      - application/json
      Server:
      - nginx
      Vary:
      - Authorization, X-Filter
      X-Accepted-Oauth-Scopes:
      - lke:read_write
      X-Frame-Options:
      - DENY
      X-Oauth-Scopes:
      - '*'
      X-Ratelimit-Limit:
      - "800"
    status: 503 Service Unavailable
    code: 503
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      User-Agent:
      - linodego/dev https://github.com/linode/linodego
    url: https://api.linode.com/v4beta/lke/clusters/57130/kubeconfig
    method: GET
  response:
    body: '{"errors": [{"reason": "Cluster kubeconfig is not yet available. Please
      try again later."}]}'
    headers:
      Access-Control-Allow-Headers:
      - Authorization, Origin, X-Requested-With, Content-Type, Accept, X-Filter
      Access-Control-Allow-Methods:
      - HEAD, GET, OPTIONS, POST, PUT, DELETE
      Access-Control-Allow-Origin:
      - '*'
      Content-Length:
      - "92"
      Content-Type:
      - application/json
      Server:
      - nginx
      Vary:
      - Authorization, X-Filter
      X-Accepted-Oauth-Scopes:
      - lke:read_write
      X-Frame-Options:
      - DENY
      X-Oauth-Scopes:
      - '*'
      X-Ratelimit-Limit:
      - "800"
    status: 503 Service Unavailable
    code: 503
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      User-Agent:
      - linodego/dev https://github.com/linode/linodego
    url: https://api.linode.com/v4beta/lke/clusters/57130/kubeconfig
    method: GET
  response:
    body: '{"kubeconfig": "CmFwaVZlcnNpb246IHYxCmtpbmQ6IENvbmZpZwpwcmVmZXJlbmNlczoge30KCmNsdXN0ZXJzOgotIGNsdXN0ZXI6CiAgICBjZXJ0aWZpY2F0ZS1hdXRob3JpdHktZGF0YTogTFMwdExTMUNSVWRKVGlCRFJWSlVTVVpKUTBGVVJTMHRMUzB0Q2sxSlNVTTFla05EUVdNclowRjNTVUpCWjBsQ1FVUkJUa0puYTNGb2EybEhPWGN3UWtGUmMwWkJSRUZXVFZKTmQwVlJXVVJXVVZGRVJYZHdjbVJYU213S1kyMDFiR1JIVm5wTlFqUllSRlJKZVUxRVVYZE9la1V3VGxSTk1FOUdiMWhFVkUxNVRVUlJkMDVFUlRCT1ZFMHdUMFp2ZDBaVVJWUk5Ra1ZIUVRGVlJRcEJlRTFMWVROV2FWcFlTblZhV0ZKc1kzcERRMEZUU1hkRVVWbEtTMjlhU1doMlkwNUJVVVZDUWxGQlJHZG5SVkJCUkVORFFWRnZRMmRuUlVKQlRsZ3pDaXRWYlZSV1dsQk5lR3hPUTNjMmNVVTNRWEl5YWs5T1dGSTBXVWRLZG1aWmExQmxRbU0xYkZsMU5XOVlSRlJWV2pobUswdzBabVl2UlhWQ1RsWjNaMG9LY0ZNclJUaFNVRFF2U25nMlJIZGxhVlkwWTJSSFpqWjFSUzhyZHpNeE1uTXpZbWxFU214bFowczNRMWx6U0dNdlNVTktZMnBDVTJwb2MycGxZM0ZGYmdwSU55OXhlSFl2WVVSRWMzQmlOMndyVnk5SGNIQTNUbTVEY2pSeFpGTkxURmhKUkhwWGJXRTJRbTFyWkRGV2VuSlpZbnBYTm1sUkszcENOMGd3VEdaNUNsaEliRGRxWW1SWEsxZFdXVXhtY0c1dmRHRkhTVGRHVWxNM1dVSmFRWGc0YUVOR016UXpkV1pCY2xKVGNXdHFXa2RVYVUxTk1rY3dlWEEwU1VGcE5YZ0taM3BFU3pBMlUyeExWVnB1TkRVeWRteGtSbmM1TkdsRU1GRXJjVmRFV0dGWVpVUTBhbVJsZURkeU1GbHVURlpIVHk4MWVIbHNOSGhvTWtGek1IRnFWUW8yZERWeGNVZDVXamR4Ym1rclNIbE5RWGc0UTBGM1JVRkJZVTVEVFVWQmQwUm5XVVJXVWpCUVFWRklMMEpCVVVSQlowdHJUVUU0UjBFeFZXUkZkMFZDQ2k5M1VVWk5RVTFDUVdZNGQwaFJXVVJXVWpCUFFrSlpSVVpETlRBMFEzVTFPR3BCY1daV1dtVklhM0JoY0dWS2Vsa3plR1ZOUVRCSFExTnhSMU5KWWpNS1JGRkZRa04zVlVGQk5FbENRVkZEU0hab2NVWTNWMUU0V25kVldHTk5kSFJyU0ZVeEx6RlRTMUpvU201TE5HODRRbFZ6YmpWT2FsSlJPVzF1WTJGeVF3cEVOR3haTldKREwyeHFUMjQyVnpNeFQydFZNRWxHSzJOVWRESmhORlJhZFRCbGVVZEdTRFpLYm5GR2NIaGtVR0Y1T0RWNGMwSkVjbXQ2ZEdwVmJrVnFDbE5tYmtocVZtbzVRV2t2U0RKWVNISkJabXhaTkhSWFJWTnhabGwyYTBWUFdVc3ZVVzl2VHpoeGNVSldLMnBEWXpsQ1ZHSTRURlZTYWpkeGRrVjRNemNLZERreFZGWnhUa3RRVW5OMFNWQjBhaTlRY2xOWVFqTlpWR3RHUWxvd1VFcHRTbTF4U21ORlpsa3dVa2d6VmxOeFVYRjNWMkl5U2tKdU0zbE1ja1pvYVFwbVNrdE1SR0pZUm5kUlkwNTVhbEEzWW1KcFNXVkRTRTlGTjJObVlrdExORzFsWjNwd1VXRTBTRzFYVDNVd1JsSTRkMU55VEhCbk0wWkRlbTFGVUZBdkNqWXZaMUZEUW5SNlJHeEpSM2t5UkVGbU4weHBaRkphUTJ4c09XSnZaSGN3Y0hKSlF3b3RMUzB0TFVWT1JDQkRSVkpVU1VaSlEwRlVSUzB0TFMwdENnPT0KICAgIHNlcnZlcjogaHR0cHM6Ly80NTM3NWU3My03OGE2LTQ1YTUtYjM3MC0yNWI2OWM2YmYyODYuY3BjMi11cy1jZW50cmFsLmxpbm9kZWxrZS5uZXQ6NDQzCiAgbmFtZTogbGtlNTcxMzAKCnVzZXJzOgotIG5hbWU6IGxrZTU3MTMwLWFkbWluCiAgdXNlcjoKICAgIGFzLXVzZXItZXh0cmE6IHt9CiAgICB0b2tlbjogZXlKaGJHY2lPaUpTVXpJMU5pSXNJbXRwWkNJNkltMXlOV1Y1ZEhKNGNteENhbE5QVlZwc1JsOW5NbEpKTlU1elQxUmhSMVZNZFRCRFFXTldRa3RNWWtVaWZRLmV5SnBjM01pT2lKcmRXSmxjbTVsZEdWekwzTmxjblpwWTJWaFkyTnZkVzUwSWl3aWEzVmlaWEp1WlhSbGN5NXBieTl6WlhKMmFXTmxZV05qYjNWdWRDOXVZVzFsYzNCaFkyVWlPaUpyZFdKbExYTjVjM1JsYlNJc0ltdDFZbVZ5Ym1WMFpYTXVhVzh2YzJWeWRtbGpaV0ZqWTI5MWJuUXZjMlZqY21WMExtNWhiV1VpT2lKc2EyVXRZV1J0YVc0dGRHOXJaVzR0Wm1aemVEVWlMQ0pyZFdKbGNtNWxkR1Z6TG1sdkwzTmxjblpwWTJWaFkyTnZkVzUwTDNObGNuWnBZMlV0WVdOamIzVnVkQzV1WVcxbElqb2liR3RsTFdGa2JXbHVJaXdpYTNWaVpYSnVaWFJsY3k1cGJ5OXpaWEoyYVdObFlXTmpiM1Z1ZEM5elpYSjJhV05sTFdGalkyOTFiblF1ZFdsa0lqb2lPV1JpT1RjMVlqQXRaR1ptTXkwME5EZzFMVGt5TmpBdE1URTFZemhtTldKaVptUmtJaXdpYzNWaUlqb2ljM2x6ZEdWdE9uTmxjblpwWTJWaFkyTnZkVzUwT210MVltVXRjM2x6ZEdWdE9teHJaUzFoWkcxcGJpSjkuWVNyc0FkOFFYbXNTVkJPaGJPMVRUaVQxSE94WVhWWmVmazM2dTV0MTVhWWMwUG5HNWw3dTJqVl9vNDdCdmN1LVIxV3hIVUZySGVVeXhnSUxPVHdXZ25XLXY0V2Q4T3lPeW5FUTczcEcwYTRraXFVTzNuc1M2QkZCZ2lUNDJmTnUtTVFCQzJjaHNidWtIcklWZ0hZOTRVdVhxNEhpOVMwQXBqaXpzNFRMcFFZMXRFUWZoamxJeFVFaHlUYjY0VEJKTnh4MktFU29yODJEVFlPUGJpZlpNb2F1Q3pfMEpEbzNLcndQMi16RnZRWDN1bEMyRXFsblpmeXhTN0ZDcnk4TXdxWWJmZ3JZeTRfaDNSTFBxY1RYM3ZCWTI1cUNoeVotajd0bXlYMlRsdktXbFZ3bWQxTHdxc0ZMZUZyOFZ0aUR5TkhrN21yYzc3dG54VDJaTE5NUklnCgpjb250ZXh0czoKLSBjb250ZXh0OgogICAgY2x1c3RlcjogbGtlNTcxMzAKICAgIG5hbWVzcGFjZTogZGVmYXVsdAogICAgdXNlcjogbGtlNTcxMzAtYWRtaW4KICBuYW1lOiBsa2U1NzEzMC1jdHgKCmN1cnJlbnQtY29udGV4dDogbGtlNTcxMzAtY3R4Cg=="}'
    headers:
      Access-Control-Allow-Credentials:
      - "true"
      Access-Control-Allow-Headers:
      - Authorization, Origin, X-Requested-With, Content-Type, Accept, X-Filter
      Access-Control-Allow-Methods:
      - HEAD, GET, OPTIONS, POST, PUT, DELETE
      Access-Control-Allow-Origin:
      - '*'
      Access-Control-Expose-Headers:
      - X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Status
      Cache-Control:
      - private, max-age=0, s-maxage=0, no-cache, no-store
      - private, max-age=60, s-maxage=60
      Content-Security-Policy:
      - default-src 'none'
      Content-Type:
      - application/json
      Server:
      - nginx
      Strict-Transport-Security:
      - max-age=31536000
      Vary:
      - Authorization, X-Filter
      - Authorization, X-Filter
      X-Accepted-Oauth-Scopes:
      - lke:read_write
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      - DENY
      X-Oauth-Scopes:
      - '*'
      X-Ratelimit-Limit:
      - "800"
      X-Xss-Protection:
      - 1; mode=block
    status: 200 OK
    code: 200
    duration: ""
- request:
    body: ""
    form: {}
    headers:
      Accept:
      - application/json
      Content-Type:
      - application/json
      User-Agent:
      - linodego/dev https://github.com/linode/linodego
    url: https://api.linode.com/v4beta/lke/clusters/57130
    method: DELETE
  response:
    body: '{}'
    headers:
      Access-Control-Allow-Credentials:
      - "true"
      Access-Control-Allow-Headers:
      - Authorization, Origin, X-Requested-With, Content-Type, Accept, X-Filter
      Access-Control-Allow-Methods:
      - HEAD, GET, OPTIONS, POST, PUT, DELETE
      Access-Control-Allow-Origin:
      - '*'
      Access-Control-Expose-Headers:
      - X-OAuth-Scopes, X-Accepted-OAuth-Scopes, X-Status
      Cache-Control:
      - private, max-age=60, s-maxage=60
      Content-Length:
      - "2"
      Content-Security-Policy:
      - default-src 'none'
      Content-Type:
      - application/json
      Server:
      - nginx
      Strict-Transport-Security:
      - max-age=31536000
      Vary:
      - Authorization, X-Filter
      X-Accepted-Oauth-Scopes:
      - lke:read_write
      X-Content-Type-Options:
      - nosniff
      X-Frame-Options:
      - DENY
      - DENY
      X-Oauth-Scopes:
      - '*'
      X-Ratelimit-Limit:
      - "800"
      X-Xss-Protection:
      - 1; mode=block
    status: 200 OK
    code: 200
    duration: ""
